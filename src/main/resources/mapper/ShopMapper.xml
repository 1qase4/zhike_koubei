<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.czc.bi.mapper.ShopMapper">

	<insert id="insert" parameterType="com.czc.bi.pojo.Shop">
		INSERT INTO `shop` (
		`name`,
		`account`,
		`inshort`,
		`merchant`,
		`agent`,
		`province`,
		`city`,
		`area`,
		`address`,
		`type`,
		`subtype`,
		`longitude`,
		`latitude`,
		`link`,
		`phone`,
		`shoptime`,
		`introduce`,
		`createdt`,
		`updatedt`
		)
		VALUES
		(
		#{name,jdbcType=VARCHAR},
		#{account,jdbcType=VARCHAR},
		#{inshort,jdbcType=VARCHAR},
		#{merchant,jdbcType=VARCHAR},
		#{agent,jdbcType=VARCHAR},
		#{province,jdbcType=VARCHAR},
		#{city,jdbcType=VARCHAR},
		#{area,jdbcType=VARCHAR},
		#{address,jdbcType=VARCHAR},
		#{type,jdbcType=VARCHAR},
		#{subtype,jdbcType=VARCHAR},
		#{longitude,jdbcType=VARCHAR},
		#{latitude,jdbcType=VARCHAR},
		#{link,jdbcType=VARCHAR},
		#{phone,jdbcType=VARCHAR},
		#{shoptime,jdbcType=VARCHAR},
		#{introduce,jdbcType=VARCHAR},
		NOW(),
		NOW()
		)

	</insert>

	<select id="selectByAccount" resultType="com.czc.bi.pojo.Shop">
		SELECT
		`name`,
		`account`,
		`inshort`,
		`merchant`,
		`agent`,
		`province`,
		`city`,
		`area`,
		`address`,
		`type`,
		`subtype`,
		`longitude`,
		`latitude`,
		`link`,
		`phone`,
		`shoptime`,
		`introduce`
		FROM
		`shop` where `account` = #{0}
	</select>
	<select id="selectAllShopId" resultType="java.lang.String">
		SELECT account FROM `shop_copy`
	</select>

	<select id="selectShopsByMerchant" resultType="com.czc.bi.pojo.Simple">
		SELECT `account` as `key`
		     ,`name` as `value`
 		FROM `shop_copy`
		WHERE merchant = #{merchant}
	</select>

</mapper>